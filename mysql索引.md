### MySQL索引设计原则

#### 设计原则
 - 唯一索引包括主键索引为第一选择
 - 是否在字段上建索引，主要考虑选择性
  - 如果选择性超过 20% 那么全表扫描比使用索引性能更优。
 - 为经常出现在where,on,group by,order by中的列建立索引
 - 如果索引字段的值很长，最好使用值的前缀来索引
 - 尽量使用索引字段的值短的索引，比如过长的字符串索引查询会更慢
 - 小表不应建立索引
 - 数据量超过300w的表应该有索引

#### 复合索引原则
 - 组合索引能减低索引文件的大小，使用速度也优于多个单列索引
 - 按照选择性进行排列，选择性好的字段放前面
 - 复合索引的几个字段是否经常同时以AND方式出现在Where子句中？单字段查询是否极少甚至没有？如果是，则可以建立复合索引；否则考虑单字段索引；
 - 如果复合索引中包含的字段经常单独出现在Where子句中，则分解为多个单字段索引
 - 如果复合索引所包含的字段超过3个，那么仔细考虑其必要性，考虑减少复合的字段
 - 如果既有单字段索引，又有这几个字段上的复合索引，一般可以删除复合索引
 - 无法对组合索引中多个字段进行范围查询，只能按照最左原则，对最左边第一个范围查询有效

#### 维护原则
 - 限制索引数目，减少磁盘占用和修改的成本
 - 删除不再使用或者很少使用的索引
 - 索引的创建必须考虑数据的操作方式
  - 内容很少变动,经常被查询,为它多创建几个索引無所谓
  - 经常性,例行性变动的表而言,则需要谨慎地创建确实必要的索引
 - 频繁进行数据操作的表，不要建立太多的索引
 - 使用索引应当尽量避免 “OR” 、“否定查询” 、“模糊查询”、“NOT IN”、“<>” 等操作
